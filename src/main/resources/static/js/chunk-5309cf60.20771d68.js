(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5309cf60"],{"0099":function(t,e,a){"use strict";a.r(e);var i,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg"},[a("div",{staticClass:"title"},[t._v("项目资金方进度")]),a("article",{staticClass:"person_main"},[a("div",[a("div",[a("DatePicker",{staticStyle:{width:"200px","margin-right":"20px",float:"left"},attrs:{type:"date",placeholder:"选择时间",editable:!1,value:"yyyy-MM-dd HH:mm:ss"},on:{"on-change":function(e){t.formValidate.progressDate=e}},model:{value:t.formValidate.progressDate,callback:function(e){t.$set(t.formValidate,"progressDate",e)},expression:"formValidate.progressDate"}}),a("Input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"地址"},model:{value:t.formValidate.address,callback:function(e){t.$set(t.formValidate,"address",e)},expression:"formValidate.address"}}),a("br"),a("br"),a("Input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{placeholder:"内容",type:"textarea"},model:{value:t.formValidate.content,callback:function(e){t.$set(t.formValidate,"content",e)},expression:"formValidate.content"}})],1),a("div",{staticStyle:{clear:"both","margin-bottom":"20px"}}),a("div",[a("Upload",{ref:"picture",staticStyle:{float:"left","margin-right":"10px"},attrs:{accept:"image/*",action:t.fileconfig.fileUrl,headers:t.fileconfig.fileHead,name:"file","on-success":t.picture}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传图片")])],1),a("Upload",{ref:"file",staticStyle:{float:"left","margin-right":"10px"},attrs:{accept:"image/*",action:t.fileconfig.fileUrl,headers:t.fileconfig.fileHead,name:"file","on-success":t.file}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传文件")])],1)],1),a("div",{staticStyle:{clear:"both","margin-bottom":"10px"}}),a("div",{staticStyle:{"font-size":"12px",color:"#dc6969"}},[t._v("*只会添加最后一次上传的图片或文件")]),a("br"),a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.clickAdd}},[t._v("添加新进度")])],1),a("Divider")],1),a("div",{staticStyle:{clear:"both"}}),a("div",{staticStyle:{"margin-top":"30px"}},[a("Timeline",t._l(t.data,(function(e,i){return a("Timeline-Item",{key:i},[a("p",{staticClass:"Titime"},[t._v(t._s(e.progressDate.split(" ")[0]))]),a("p",{staticClass:"Tititle"},[t._v(t._s(e.content))]),a("p",{staticClass:"Ticontent"},[t._v(t._s(e.address))]),a("p",{staticClass:"Ticontent"},[a("img",{attrs:{preview:i,src:t.imgUrl+e.picture,alt:""}}),a("br"),""!=e.picture?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.clickOpen(e.picture)}}},[t._v("查看图片")]):t._e(),""!=e.file?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.clickOpen(e.file)}}},[t._v("查看文件")]):t._e(),""!=e.video?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.clickOpen(e.video)}}},[t._v("查看视频")]):t._e(),""!=e.audio?a("Button",{attrs:{type:"primary"},on:{click:function(a){return t.clickOpen(e.audio)}}},[t._v("查看音频")]):t._e()],1),a("p",{staticClass:"Ticontent"},[a("Poptip",{attrs:{confirm:"",title:"是否要删除项目进度"},on:{"on-ok":function(a){return t.clickShow(e.id)}}},[a("Button",{attrs:{type:"error"}},[t._v("删除进度")])],1)],1)])})),1)],1)])])},o=[],c=(a("d479"),a("ebec"),a("f498")),r=(a("7cfd"),a("025e")),s=a("24d2"),u=a("6327"),d={components:(i={},Object(c["a"])(i,u["Input"].name,u["Input"]),Object(c["a"])(i,u["Timeline"].name,u["Timeline"]),Object(c["a"])(i,u["TimelineItem"].name,u["TimelineItem"]),Object(c["a"])(i,u["Poptip"].name,u["Poptip"]),Object(c["a"])(i,u["Upload"].name,u["Upload"]),Object(c["a"])(i,u["Divider"].name,u["Divider"]),Object(c["a"])(i,"DatePicker",u["DatePicker"]),Object(c["a"])(i,u["Button"].name,u["Button"]),i),data:function(){return{imgUrl:r["d"],fileconfig:{fileUrl:r["c"],fileHead:{token:document.cookie.match(new RegExp("(^| )token=([^;]*)(;|$)"))[2]}},seachConfig:{pageNo:1,pageTotal:1},formValidate:{projectCode:this.$route.params.code,type:"2",progressDate:"",address:"",content:"",file:"",video:"",audio:"",picture:""},data:[]}},methods:{file:function(t){"SUCCESS"==t.status&&(this.formValidate.file=t.data.url)},video:function(t){"SUCCESS"==t.status&&(this.formValidate.video=t.data.url)},audio:function(t){"SUCCESS"==t.status&&(this.formValidate.audio=t.data.url)},picture:function(t){"SUCCESS"==t.status&&(this.formValidate.picture=t.data.url)},clickAdd:function(){var t=this;Object(s["i"])(this.formValidate).then((function(e){"SUCCESS"==e.data.status&&(r["e"].success("进度添加成功"),t.formValidate={projectCode:t.$route.params.code,type:"2",progressDate:"",address:"",content:"",file:"",video:"",audio:"",picture:""},t.$refs.file.clearFiles(),t.$refs.picture.clearFiles(),t.getData())}))},getData:function(){var t=this;Object(s["h"])({code:this.$route.params.code,pageNo:this.seachConfig.pageNo,type:2}).then((function(e){"SUCCESS"==e.data.status&&(t.data=e.data.data.rows,t.seachConfig.pageTotal=e.data.data.total)}))},clickOpen:function(t){window.open(r["d"]+t)},clickShow:function(t){var e=this;Object(s["j"])({id:t}).then((function(t){"SUCCESS"==t.data.status&&(r["e"].success("删除成功"),e.getData())}))}},created:function(){this.getData()}},l=d,p=(a("3ce0"),a("4e82")),f=Object(p["a"])(l,n,o,!1,null,"860f31e6",null);e["default"]=f.exports},"1eef":function(t,e,a){},"24d2":function(t,e,a){"use strict";a.d(e,"d",(function(){return c})),a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return u})),a.d(e,"k",(function(){return d})),a.d(e,"g",(function(){return l})),a.d(e,"h",(function(){return p})),a.d(e,"i",(function(){return f})),a.d(e,"j",(function(){return m})),a.d(e,"c",(function(){return g})),a.d(e,"e",(function(){return h}));a("7cfd");var i=a("2427"),n=a.n(i),o=a("da71");void 0==n.a.defaults.baseURL&&Object(o["a"])();var c=function(t){return n()({method:"post",url:"/project",data:t})},r=function(t){return n()({method:"put",url:"/project",data:t})},s=function(t){return n()({method:"get",url:"/projectOne/".concat(t.id)})},u=function(t){return n()({method:"get",url:"/projectUser/".concat(t.id)})},d=function(t){return n()({method:"get",url:"/projects?name=".concat(t.name,"&type=").concat(t.type,"&status=").concat(t.status,"&pageNo=").concat(t.pageNo)})},l=function(t){return n()({method:"post",url:"/projectEnd",data:t})},p=function(t){return n()({method:"get",url:"/project/rates?code=".concat(t.code,"&pageNo=").concat(t.pageNo,"&type=").concat(t.type)})},f=function(t){return n()({method:"post",url:"/project/rate",data:t})},m=function(t){return n()({method:"delete",url:"/project/rate",data:t})},g=function(t){return n()({method:"get",url:"/rate?code=".concat(t.code,"&pageNo=").concat(t.pageNo,"&name=").concat(t.name,"&status=").concat(t.status)})},h=function(t){return n()({method:"post",url:"/project/termSheet",data:t})}},"3ce0":function(t,e,a){"use strict";var i=a("1eef"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-5309cf60.20771d68.js.map