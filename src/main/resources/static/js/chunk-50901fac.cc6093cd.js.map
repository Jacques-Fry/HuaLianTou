{"version":3,"sources":["webpack:///./src/api/project.js","webpack:///./src/views/user/project/timeline-index.vue?3eab","webpack:///src/views/user/project/timeline-index.vue","webpack:///./src/views/user/project/timeline-index.vue?1234","webpack:///./src/views/user/project/timeline-index.vue","webpack:///./src/views/user/project/timeline-index.vue?06a1"],"names":["undefined","Axios","defaults","baseURL","axiosConfig","project","params","method","url","data","projectEdit","getProject","id","getProjectUser","projects","name","type","status","pageNo","projectEnd","projectRate","code","projectRateAdd","projectRateDelete","getRate","projectAddTermSheet","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","on","$event","formValidate","progressDate","model","value","callback","$$v","$set","expression","ref","fileconfig","fileUrl","fileHead","picture","file","clickAdd","_l","item","index","key","_s","split","content","address","imgUrl","clickOpen","_e","video","audio","clickShow","staticRenderFns","components","token","document","cookie","match","seachConfig","pageTotal","projectCode","$route","methods","res","getData","window","open","created","component"],"mappings":"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","file":"js/chunk-50901fac.cc6093cd.js","sourcesContent":["import Axios from 'axios'\nimport axiosConfig from './config'\nif (Axios.defaults.baseURL == undefined) {\n    axiosConfig()\n}\n/**\n * @function 添加项目\n */\nexport const project = (params) => {\n    return Axios({\n        method: 'post',\n        url: `/project`,\n        data: params\n    })\n}\n/**\n * @function 修改项目\n */\nexport const projectEdit = (params) => {\n    return Axios({\n        method: 'put',\n        url: `/project`,\n        data: params\n    })\n}\n\n/**\n * @function 根据ID获取项目\n * @param {id 项目ID}\n */\nexport const getProject = (params) => {\n    return Axios({\n        method: 'get',\n        url: `/projectOne/${params.id}`,\n    })\n}\n/**\n * @function 根据ID获取转换字段后的项目\n * @param {id 项目ID}\n */\nexport const getProjectUser = (params) => {\n    return Axios({\n        method: 'get',\n        url: `/projectUser/${params.id}`,\n    })\n}\n/**\n * @function 获取用户全部项目列表\n * @param {name 名字}\n * @param {type 类型}\n * @param {status 类型}\n * @param {pageNo 页}\n */\nexport const projects = (params) => {\n    return Axios({\n        method: 'get',\n        url: `/projects?name=${params.name}&type=${params.type}&status=${params.status}&pageNo=${params.pageNo}`,\n    })\n}\n/**\n * @function 终止项目\n * @param {id 项目id}\n */\nexport const projectEnd = (params) => {\n    return Axios({\n        method: 'post',\n        url: `/projectEnd`,\n        data: params\n    })\n}\n/**\n * @function 获取项目进度\n * @param {code 项目code}\n * @param {pageNo 分页}\n * @param {type 类型}\n */\nexport const projectRate = (params) => {\n    return Axios({\n        method: 'get',\n        url: `/project/rates?code=${params.code}&pageNo=${params.pageNo}&type=${params.type}`,\n    })\n}\n/**\n * @function 添加项目进度\n */\nexport const projectRateAdd = (params) => {\n    return Axios({\n        method: 'post',\n        url: `/project/rate`,\n        data: params\n    })\n}\n/**\n * @function 修改项目进度是否可见\n * @param {id 项目id}\n */\nexport const projectRateDelete = (params) => {\n    return Axios({\n        method: 'delete',\n        url: `/project/rate`,\n        data: params\n    })\n}\n\n/**\n * @function 获取单个项目投资协议列表\n * @param {id 项目id}\n */\nexport const getRate = (params) => {\n    return Axios({\n        method: 'get',\n        url: `/rate?code=${params.code}&pageNo=${params.pageNo}&name=${params.name}&status=${params.status}`,\n    })\n}\n\n/**\n * @function 添加投资协议\n */\nexport const projectAddTermSheet = (params) => {\n    return Axios({\n        method: 'post',\n        url: `/project/termSheet`,\n        data: params\n    })\n}\n\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"项目进度\")]),_c('article',{staticClass:\"person_main\"},[_c('div',[_c('div',[_c('DatePicker',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"20px\",\"float\":\"left\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择时间\",\"editable\":false,\"value\":\"yyyy-MM-dd HH:mm:ss\"},on:{\"on-change\":function($event){_vm.formValidate.progressDate=$event;}},model:{value:(_vm.formValidate.progressDate),callback:function ($$v) {_vm.$set(_vm.formValidate, \"progressDate\", $$v)},expression:\"formValidate.progressDate\"}}),_c('Input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"地址\"},model:{value:(_vm.formValidate.address),callback:function ($$v) {_vm.$set(_vm.formValidate, \"address\", $$v)},expression:\"formValidate.address\"}}),_c('br'),_c('br'),_c('Input',{staticStyle:{\"width\":\"100%\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"内容\",\"type\":\"textarea\"},model:{value:(_vm.formValidate.content),callback:function ($$v) {_vm.$set(_vm.formValidate, \"content\", $$v)},expression:\"formValidate.content\"}})],1),_c('div',{staticStyle:{\"clear\":\"both\",\"margin-bottom\":\"10px\"}}),_c('div',[_c('Upload',{ref:\"picture\",staticStyle:{\"float\":\"left\",\"margin-right\":\"10px\"},attrs:{\"accept\":\"image/*\",\"action\":_vm.fileconfig.fileUrl,\"headers\":_vm.fileconfig.fileHead,\"name\":\"file\",\"on-success\":_vm.picture}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"上传图片\")])],1),_c('Upload',{ref:\"file\",staticStyle:{\"float\":\"left\",\"margin-right\":\"10px\"},attrs:{\"accept\":\"image/*\",\"action\":_vm.fileconfig.fileUrl,\"headers\":_vm.fileconfig.fileHead,\"name\":\"file\",\"on-success\":_vm.file}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"上传文件\")])],1)],1),_c('div',{staticStyle:{\"clear\":\"both\",\"margin-bottom\":\"10px\"}}),_c('div',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#dc6969\"}},[_vm._v(\"*只会添加最后一次上传的图片或文件\")]),_c('br'),_c('div',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickAdd}},[_vm._v(\"添加新进度\")])],1),_c('Divider')],1),_c('div',{staticStyle:{\"clear\":\"both\"}}),_c('div',{staticStyle:{\"margin-top\":\"30px\"}},[_c('Timeline',_vm._l((_vm.data),function(item,index){return _c('Timeline-Item',{key:index},[_c('p',{staticClass:\"Titime\"},[_vm._v(_vm._s(item.progressDate.split(' ')[0]))]),_c('p',{staticClass:\"Tititle\"},[_vm._v(_vm._s(item.content))]),_c('p',{staticClass:\"Ticontent\"},[_vm._v(_vm._s(item.address))]),_c('p',{staticClass:\"Ticontent\"},[_c('img',{attrs:{\"preview\":index,\"src\":_vm.imgUrl+item.picture,\"alt\":\"\"}}),_c('br'),(item.picture!='')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.clickOpen(item.picture)}}},[_vm._v(\"查看图片\")]):_vm._e(),(item.file!='')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.clickOpen(item.file)}}},[_vm._v(\"查看文件\")]):_vm._e(),(item.video!='')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.clickOpen(item.video)}}},[_vm._v(\"查看视频\")]):_vm._e(),(item.audio!='')?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.clickOpen(item.audio)}}},[_vm._v(\"查看音频\")]):_vm._e()],1),_c('p',{staticClass:\"Ticontent\"},[_c('Poptip',{attrs:{\"confirm\":\"\",\"title\":\"是否要删除项目进度\"},on:{\"on-ok\":function($event){return _vm.clickShow(item.id)}}},[_c('Button',{attrs:{\"type\":\"error\"}},[_vm._v(\"删除进度\")])],1)],1)])}),1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bg\">\n    <div class=\"title\">项目进度</div>\n    <article class=\"person_main\">\n      <div>\n        <div>\n          <DatePicker\n            v-model=\"formValidate.progressDate\"\n            type=\"date\"\n            placeholder=\"选择时间\"\n            :editable=\"false\"\n            value=\"yyyy-MM-dd HH:mm:ss\"\n            @on-change=\"formValidate.progressDate=$event;\"\n            style=\"width: 200px;margin-right:20px;float: left;\"\n          ></DatePicker>\n          <Input\n            v-model=\"formValidate.address\"\n            placeholder=\"地址\"\n            style=\"width: 200px;margin-right: 10px;\"\n          />\n          <br />\n          <br />\n          <Input\n            v-model=\"formValidate.content\"\n            placeholder=\"内容\"\n            style=\"width: 100%; margin-right: 10px;\"\n            type=\"textarea\"\n          />\n        </div>\n        <div style=\"clear: both;margin-bottom: 10px;\"></div>\n        <div>\n          <Upload\n            style=\"float:left; margin-right: 10px;\"\n            accept=\"image/*\"\n            :action=\"fileconfig.fileUrl\"\n            :headers=\"fileconfig.fileHead\"\n            name=\"file\"\n            :on-success=\"picture\"\n            ref=\"picture\"\n          >\n            <Button icon=\"ios-cloud-upload-outline\">上传图片</Button>\n          </Upload>\n          <Upload\n            style=\"float:left; margin-right: 10px;\"\n            accept=\"image/*\"\n            :action=\"fileconfig.fileUrl\"\n            :headers=\"fileconfig.fileHead\"\n            name=\"file\"\n            :on-success=\"file\"\n            ref=\"file\"\n          >\n            <Button icon=\"ios-cloud-upload-outline\">上传文件</Button>\n          </Upload>\n          <!-- <Upload\n            style=\"float:left; margin-right: 10px;\"\n            :action=\"fileconfig.fileUrl\"\n            :headers=\"fileconfig.fileHead\"\n            name=\"file\"\n            :on-success=\"video\"\n            ref=\"video\"\n          >\n            <Button icon=\"ios-cloud-upload-outline\">上传视频</Button>\n          </Upload>\n          <Upload\n            style=\"float:left; margin-right: 10px;\"\n            :action=\"fileconfig.fileUrl\"\n            :headers=\"fileconfig.fileHead\"\n            name=\"file\"\n            :on-success=\"audio\"\n            ref=\"audio\"\n          >\n            <Button icon=\"ios-cloud-upload-outline\">上传音频</Button>\n          </Upload>-->\n        </div>\n        <div style=\"clear: both;margin-bottom: 10px;\"></div>\n        <div style=\"font-size:12px;color: #dc6969;\">*只会添加最后一次上传的图片或文件</div>\n        <br />\n        <div>\n          <Button type=\"primary\" @click=\"clickAdd\">添加新进度</Button>\n        </div>\n        <Divider />\n      </div>\n      <div style=\"clear: both;\"></div>\n      <div style=\"margin-top:30px;\">\n        <Timeline>\n          <Timeline-Item v-for=\"(item, index) in data\" :key=\"index\">\n            <p class=\"Titime\">{{item.progressDate.split(' ')[0]}}</p>\n            <p class=\"Tititle\">{{item.content}}</p>\n            <p class=\"Ticontent\">{{item.address}}</p>\n            <p class=\"Ticontent\">\n              <img :preview=\"index\" :src=\"imgUrl+item.picture\" alt />\n              <br />\n              <Button v-if=\"item.picture!=''\" type=\"primary\" @click=\"clickOpen(item.picture)\">查看图片</Button>\n              <Button v-if=\"item.file!=''\" type=\"primary\" @click=\"clickOpen(item.file)\">查看文件</Button>\n              <Button v-if=\"item.video!=''\" type=\"primary\" @click=\"clickOpen(item.video)\">查看视频</Button>\n              <Button v-if=\"item.audio!=''\" type=\"primary\" @click=\"clickOpen(item.audio)\">查看音频</Button>\n            </p>\n            <p class=\"Ticontent\">\n              <Poptip confirm title=\"是否要删除项目进度\" @on-ok=\"clickShow(item.id)\">\n                <Button type=\"error\">删除进度</Button>\n              </Poptip>\n            </p>\n          </Timeline-Item>\n        </Timeline>\n      </div>\n    </article>\n  </div>\n</template>\n<script>\nimport { fileUploadUrl, imgUrl } from \"../../../utils\";\nimport {\n  projectRate,\n  projectRateAdd,\n  projectRateDelete\n} from \"../../../api/project\";\nimport { messages } from \"../../../utils\";\nimport {\n  Timeline,\n  Button,\n  TimelineItem,\n  Poptip,\n  Upload,\n  Divider,\n  DatePicker,\n  Input\n} from \"iview\";\nexport default {\n  components: {\n    [Input.name]: Input,\n    [Timeline.name]: Timeline,\n    [TimelineItem.name]: TimelineItem,\n    [Poptip.name]: Poptip,\n    [Upload.name]: Upload,\n    [Divider.name]: Divider,\n    DatePicker,\n    [Button.name]: Button\n  },\n  data() {\n    return {\n      imgUrl: imgUrl,\n      // 文件上传配置\n      fileconfig: {\n        fileUrl: fileUploadUrl,\n        fileHead: {\n          token: document.cookie.match(\n            new RegExp(\"(^| )\" + \"token\" + \"=([^;]*)(;|$)\")\n          )[2]\n        }\n      },\n      //搜索配置\n      seachConfig: {\n        pageNo: 1,\n        pageTotal: 1\n      },\n      formValidate: {\n        projectCode: this.$route.params.code,\n        type: \"1\",\n        progressDate: \"\",\n        address: \"\",\n        content: \"\",\n        file: \"\",\n        video: \"\",\n        audio: \"\",\n        picture: \"\"\n      },\n      data: []\n    };\n  },\n  methods: {\n    file(res) {\n      if (res.status == \"SUCCESS\") {\n        this.formValidate.file = res.data.url;\n      }\n    },\n    video(res) {\n      if (res.status == \"SUCCESS\") {\n        this.formValidate.video = res.data.url;\n      }\n    },\n    audio(res) {\n      if (res.status == \"SUCCESS\") {\n        this.formValidate.audio = res.data.url;\n      }\n    },\n    picture(res) {\n      if (res.status == \"SUCCESS\") {\n        this.formValidate.picture = res.data.url;\n      }\n    },\n    // 添加进度\n    clickAdd() {\n      projectRateAdd(this.formValidate).then(res => {\n        if (res.data.status == \"SUCCESS\") {\n          messages.success(`进度添加成功`);\n          //将文件上传复位\n          this.formValidate = {\n            projectCode: this.$route.params.code,\n            type: \"1\",\n            progressDate: \"\",\n            address: \"\",\n            content: \"\",\n            file: \"\",\n            video: \"\",\n            audio: \"\",\n            picture: \"\"\n          };\n          this.$refs.file.clearFiles();\n          this.$refs.picture.clearFiles();\n          // this.$refs.video.clearFiles();\n          // this.$refs.audio.clearFiles();\n          // 重新获取列表\n          this.getData();\n        }\n      });\n    },\n    //获取数据\n    getData() {\n      projectRate({\n        code: this.$route.params.code,\n        pageNo: this.seachConfig.pageNo,\n        type: 1\n      }).then(res => {\n        if (res.data.status == \"SUCCESS\") {\n          this.data = res.data.data.rows;\n          this.seachConfig.pageTotal = res.data.data.total;\n        }\n      });\n    },\n    //点击打开详情\n    clickOpen(url) {\n      window.open(imgUrl + url);\n    },\n    //设置隐藏\n    clickShow(id) {\n      projectRateDelete({ id }).then(res => {\n        if (res.data.status == \"SUCCESS\") {\n          messages.success(`删除成功`);\n          this.getData();\n        }\n      });\n    }\n  },\n  created() {\n    this.getData();\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.bg {\n  min-height: 600px;\n  background: #ffffff;\n  padding: 20px;\n  .title {\n    font-size: 18px;\n    border-left: 5px solid #575757;\n    color: #2868d1;\n    padding-left: 10px;\n    margin-bottom: 20px;\n  }\n  .time {\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 20px;\n  }\n  .content {\n    padding-top: 20px;\n    font-size: 14px;\n  }\n  .block {\n    width: 90%;\n    margin: 0px auto;\n  }\n}\n.Titime {\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.Tititle {\n  font-size: 14px;\n  padding-left: 5px;\n  margin-bottom: 10px;\n}\n\n.Ticontent {\n  padding-left: 5px;\n  margin-bottom: 10px;\n  button {\n    margin-right: 10px;\n  }\n}\n\n.Ticontent img {\n  width: 200px;\n  height: 200px;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./timeline-index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./timeline-index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timeline-index.vue?vue&type=template&id=14c0a1f0&scoped=true&\"\nimport script from \"./timeline-index.vue?vue&type=script&lang=js&\"\nexport * from \"./timeline-index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./timeline-index.vue?vue&type=style&index=0&id=14c0a1f0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14c0a1f0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./timeline-index.vue?vue&type=style&index=0&id=14c0a1f0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!./timeline-index.vue?vue&type=style&index=0&id=14c0a1f0&lang=less&scoped=true&\""],"sourceRoot":""}